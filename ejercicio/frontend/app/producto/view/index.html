<div class="text-right">Mensaje: {{rootScope.mensaje}}</div>

<h1>Productos</h1>

<div class="alert alert-danger" ng-show="error.length > 0">
  <ul>
  	<li ng-repeat="e in error">{{e}}</li>
  </ul>
</div>

<form class="form-horizontal" name="form" ng-submit="guardar(form)" novalidate>
  <input type="hidden" id="id">
  <div class="form-group">
    <label for="nombre" class="col-sm-2 control-label">Nombre</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="nombre" placeholder="Nombre" ng-model="producto.nombre" required ng-minlength="3">

      <span ng-show="ctrl.error.length > 0 && form.nombre.$invalid">Nombre inválido</span>
    </div>
  </div>
  <div class="form-group">
    <label for="precio" class="col-sm-2 control-label">Precio</label>
    <div class="col-sm-10">
      <input type="number" class="form-control" name="precio" placeholder="Precio" ng-model="producto.precio" required>
      <span ng-show="error.length > 0 && form.precio.$invalid">Precio inválido</span>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <input type="submit" class="btn btn-default" value='Guardar'>
    </div>
  </div>
</form>

<hr>
<table id="tabla-productos" class="table table-striped">
	<thead>
		<tr>
			<th>Id</th>
			<th>Nombre</th>
			<th>Precio</th>
			<th>Mostrar</th>
			<th>Eliminar</th>
		</tr>
	</thead>
		<tr ng-repeat="p in productos">
			<td>{{::p.id}}</td>
			<td>{{::p.nombre}}</td>
			<td>{{::p.precio}}</td>
			<td><a href ng-click="mostrar(p)">mostrar</a></td>
			<td><a href ng-click="eliminar(p.id)">eliminar</a></td>
		</tr>
	<tbody>
	</tbody>
</table>